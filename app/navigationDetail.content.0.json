{
    "type": "WizardScriptElement",
    "config": {
        "name": "My Custom Script",
        "script": "\nvar labelContent=<?php\n\n$ui=GetWidget('interfaceConfig');\n\n$labels=$ui->getConfigurationValues(array(\n    'label-for-events',\n    'label-for-projects',\n    'label-for-connections',\n    'label-for-profiles'\n    ));\n\n\necho json_encode($labels,JSON_PRETTY_PRINT);\n?>\n\n\nvar navigationController=(new NavigationMenuModule({\n      \"Main\":[\n        {\n          \"html\":\"FeedItems\",\n          \"namedView\":\"bottomDetail\",\n           filterItem:function(item){\n              return true; \n           }\n        },\n        {\n          \"html\":\"Events\",\n          \"namedView\":\"bottomDetail\",\n          \"labelContent\":labelContent['label-for-events'],\n           filterItem:function(item){\n              return item.getType()===\"ProjectHub.event\";   \n           }\n        },\n        {\n          html:\"Projects\",\n          \"namedView\":\"bottomDetail\",\n          \"labelContent\":labelContent['label-for-projects'],\n           filterItem:function(item){\n              return item.getType()===\"ProjectHub.project\";   \n           }\n        },\n        {\n          html:\"Connections\",\n          \"namedView\":\"bottomDetail\",\n          \"labelContent\":labelContent['label-for-connections'],\n           filterItem:function(item){\n              return item.getType()===\"ProjectHub.connection\";   \n           }\n        },\n         {\n          html:\"Profiles\",\n          \"namedView\":\"bottomDetail\",\n          \"labelContent\":labelContent['label-for-profiles'],\n           filterItem:function(item){\n              return item.getType()===\"ProjectHub.profile\";   \n           }\n        },\n        \/\/ {\n        \/\/   html:\"Requests\",\n        \/\/   \"view\":\"bottomDetail\",\n        \/\/   \"labelContent\":\"user requests\",\n        \/\/   filterItem:function(item){\n        \/\/       return item.getType()===\"ProjectHub.request\";   \n        \/\/   }\n        \/\/ },\n        {\n          html:\"Calendar\"\n        },\n        {\n          \"html\":\"Tags\",\n          \"namedView\":\"bottomDetail\",\n           filterItem:function(item){\n              return EventList.SharedInstance().itemMatchesFilter(item, application.getNamedValue('tagFilter')); \n           },\n           urlComponent:function(stub){\n               var filter=application.getNamedValue('tagFilter');\n               if(!filter){\n                   return stub;\n               }\n               return stub+'\/'+(filter.tags.length>1?'match-all\/':\"\")+filter.tags.map(function(t){return t.split(' ').join('-'); }).join('\/');\n           }\n        },\n        {\n          \"html\":\"Date\",\n          \"namedView\":\"bottomDetail\",\n           filterItem:function(item){\n              return EventList.SharedInstance().itemMatchesFilter(item, application.getNamedValue('dateFilter')); \n           },\n           urlComponent:function(stub){\n               var filter=application.getNamedValue('dateFilter');\n               if(!filter){\n                   return stub;\n               }\n               return stub+'\/'+(filter.dates.length>1?'match-any\/':\"\")+filter.dates.map(function(t){return t.split(' ').join('-'); }).join('\/');\n           }\n        },\n        {\n          html:\"Archive\"\n        },\n        {\n          html:\"Pinned\"\n        },\n        {\n          html:\"Single\"\n        },\n        {\n          html:\"About\"\n        },\n        {\n          html:\"Contact\"\n        }\n      ]   \n        \n    },{\n        initialView:{\"section\":\"Main\", \"view\":\"FeedItems\"},\n        targetUIView:function(button, section, viewer){\n            return  viewer.getApplication().getChildView('content',0).getChildView('content',4)\n        },\n        templateView:function(button, section){\n            return button.namedView||(section.toLowerCase()+button.html+\"Detail\");\n        },\n        buttonClass:function(button, section){\n            return button[\"class\"]||(\"menu-\"+section.toLowerCase()+\"-\"+button.html.toLowerCase())\n        },\n        sectionClass:function(section){\n            return \"menu-\"+section.toLowerCase()\n        },\n        formatEl:function(li, button){\n            if(button&&button.labelContent){\n                li.appendChild(new Element('label', {html:button.labelContent}));\n            }\n        }\n    })).addEvent('navigationStart', function(button){\n        application.setNamedValue('feedItemFilter', function(item){\n            return button.filterItem?button.filterItem(item):true;\n        });\n    });\n    \napplication.setNamedValue('navigationController', navigationController);\nreturn navigationController;",
        "description": "Info about my custom script"
    }
}