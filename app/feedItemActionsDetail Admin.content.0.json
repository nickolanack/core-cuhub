{
    "type": "WizardScriptElement",
    "config": {
        "script": "\n\nif(!item.canCreate('event')){\n    return null;\n}\nreturn (new ModalFormButtonModule(application, \n    new EventItem({\n        \"item\":item,\n    }).addEvent(\"save\", function(){\n        var item=this;\n        EventList.SharedInstance(function(el){\n            \n            el.addItem(item);\n            \n        });\n    }), {\n    \"label\":(item instanceof MyProfileItem)?\"Create New Event\":\"Add \"+item.getTypeName()+\" Event\",\n    \"formName\":\"eventForm\",\n    \"formOptions\":{\n        \"template\":\"form\",\n        \"className\":\"event-form\"\n    },\n    \"className\":\"action-event\"\n}))",
        "identifier": "customScriptElement"
    }
}